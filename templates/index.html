<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Reddit Sentiment Analysis</title>
    <script>
        // fetch sentiment data from Flask backend
        function fetchSentiment() {
            fetch('/fetch_sentiment')
                .then(response => response.json())
                .then(data => {
                    // update webpage with fetched sentiment data
                    document.getElementById('average').textContent = `Average Sentiment: ${data.average}`;
                    document.getElementById('median').textContent = `Median Sentiment: ${data.median}`;
                })
                .catch(error => console.error('Error fetching sentiment data:', error));
        }

        // fetch sentiment data when the page loads
        document.addEventListener('DOMContentLoaded', fetchSentiment);

        // fetch sentiment data every 10 seconds (6 requests to the API per min)
        setInterval(fetchSentiment, 10000);
    </script>
</head>
<body>
    <h1>Reddit Sentiment Analysis</h1>
    <p id="average">Loading average sentiment...</p>
    <p id="median">Loading median sentiment...</p>
</body>
</html>
